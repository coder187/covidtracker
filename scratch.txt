<div id="mapview" style="width:750px;height:750px;"></div>
    <script>
        let map1;
        let mapView;
        let url = "";
        let featureLayer = "";
        require(["esri/Map", "esri/layers/FeatureLayer", "esri/views/MapView", "esri/widgets/Legend", "esri/request"],
            function (Map, FeatureLayer, MapView, Legend, esriRequest) {



                let url = "https://services1.arcgis.com/eNO7HHeQ3rUcBllm/arcgis/rest/services/CovidStatisticsProfileHPSCIrelandOpenData/FeatureServer/0";
                url = "https://services1.arcgis.com/eNO7HHeQ3rUcBllm/ArcGIS/rest/services/CovidStatisticsProfileHPSCIrelandOpenData/FeatureServer/0/query?where=1%3D1&f=pjson";
                // Define the 'options' for the request
                let options = {
                    query: {
                        f: "json",
                        where: "(ConfirmedCovidCases>0)",
                        outFields: ["ConfirmedCovidCases", "ConfirmedCovidDeaths", "TotalConfirmedCovidCases"],
                        returnGeometry: false
                        //outFields: ["*"]

                    },
                    responseType: "json",

                };
                esriRequest(url, options).then(function (response) {
                    //console.log("response", response);

                    let myFeatures = response.data.features;
                    let covidStats = {
                        Cases: myFeatures[myFeatures.length - 1].attributes.ConfirmedCovidCases,
                        Deaths: myFeatures[myFeatures.length - 1].attributes.ConfirmedCovidDeaths,
                        TotalCases: myFeatures[myFeatures.length - 1].attributes.TotalConfirmedCovidCases
                    };


                    console.log(covidStats.Cases + "/" + covidStats.Deaths + "/" + covidStats.TotalCases);
                })
            });
    </script>



    <!--<script src="assets/js/promise.js"></script>
    <script>

        doSomeStuff().then(
            function (message) {
                console.log("Resolved: ", message);

            },
            function (error) {
                console.log("Rejected: ", error);
            }
        );
    </script>-->
    <!--car_obg_promise
    //var mycar = new Car('Eagle', 'Talon TSi', 1993);
    //console.log(mycar.make);


    //Car2('Eagle', 'Talon TSi', 1993).then(
    //    function (message) {
    //        console.log("Resolved: ", message);
    //    },
    //    function (error) {
    //        console.log("Rejected: ", error);
    //    }
    //);-->